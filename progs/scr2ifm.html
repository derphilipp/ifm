    <HTML> 
	<HEAD> 
	    <TITLE>scr2ifm -- create IFM map from game transcript

</TITLE> 
	</HEAD>

	<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#SYNOPSIS">SYNOPSIS</A>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="#OPTIONS">OPTIONS</A>
	<LI><A HREF="#OPERATION">OPERATION</A>
	<LI><A HREF="#MAKING_TRANSCRIPTS">MAKING TRANSCRIPTS</A>
	<LI><A HREF="#IFM_COMMANDS">IFM COMMANDS</A>
	<LI><A HREF="#FIXING_PROBLEMS">FIXING PROBLEMS</A>
	<LI><A HREF="#EXAMPLE_SESSION">EXAMPLE SESSION</A>
	<LI><A HREF="#LIMITATIONS">LIMITATIONS</A>
	<LI><A HREF="#BUGS">BUGS</A>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A>
	<LI><A HREF="#AUTHOR">AUTHOR</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME

</A></H1>
scr2ifm -- create IFM map from game transcript


<P>

<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS

</A></H1>
scr2ifm [options] file [file...]


<P>

<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION

</A></H1>
<STRONG>scr2ifm</STRONG> reads one or more transcripts of an Interactive Fiction game and produces a
map of it in <STRONG>IFM</STRONG> format. It works on Infocom-style transcripts -- those produced by Inform-
and TADS-generated games (and of course Infocom games themselves). The idea
is that you play your game in a carefree manner, without worrying about
mapping anything, and after the session use <STRONG>scr2ifm</STRONG> to get a map. Well, that's the theory anyway.


<P>

<STRONG>scr2ifm</STRONG> offers two basic ways of mapping: you can create an initial (incomplete)
map from your first transcript and then add the rest 'by hand', or you can
create a set of transcripts, each exploring different parts of the game,
and then merge them all into a final map. Which you choose is up to you.


<P>

<P>
<HR>
<H1><A NAME="OPTIONS">OPTIONS

</A></H1>
These are the command-line options for <STRONG>scr2ifm</STRONG>:


<P>

<DL>
<DT><STRONG><A NAME="item__c">-c file

</A></STRONG><DD>
Append the given file of <STRONG>IFM</STRONG> and parameter commands to the end of the map. This allows you to fix
various problems in the resulting map (see
<A HREF="#FIXING_PROBLEMS">FIXING PROBLEMS</A>).


<P>

<DT><STRONG><A NAME="item__o">-o file

</A></STRONG><DD>
Write output to the given file instead of stdout.


<P>

<DT><STRONG><A NAME="item__i">-i

</A></STRONG><DD>
Indent the output nicely (according to <EM>my</EM> definition, anyway). This makes things look better if you've added 'item'
and 'task' commands (see
<A HREF="#IFM_COMMANDS">IFM COMMANDS</A>). Default is no indentation at all.


<P>

<DT><STRONG><A NAME="item__l">-l

</A></STRONG><DD>
Add a comment to each <STRONG>IFM</STRONG> command indicating the file and line number of the transcript command that
generated it.


<P>

<DT><STRONG><A NAME="item__w">-w

</A></STRONG><DD>
Don't print warnings.


<P>

<DT><STRONG><A NAME="item__h">-h

</A></STRONG><DD>
Print a short usage message and exit.


<P>

</DL>
<P>
<HR>
<H1><A NAME="OPERATION">OPERATION

</A></H1>
<STRONG>scr2ifm</STRONG> works by recognizing several key things in the transcript:


<P>

<UL>
<LI><STRONG></STRONG>
The commands you type. These are easy to spot, because they are preceded by
a prompt (usually ``&gt;'').


<P>

<LI><STRONG></STRONG>
When the current room changes. This is not quite so easy, but still fairly
simple. When you enter a new room, a short room title is printed (for
example, ``West of House''). The program looks for these short titles in
the text that follows a command. First, a line is checked for an invalid
format -- things that never appear in a title (e.g. ``?'' or ``!''). Then
the word count is checked -- titles are hardly ever more than 7 or 8 words
long. Finally the maximum length of an uncapitalized word is examined --
this is almost always 3 or less in titles (the length of ``the'').


<P>

<LI><STRONG></STRONG>
When a previously-visited room is visited again. This is the most difficult
thing to determine, since anything might have changed in the room since the
last visit. If there is a description, an exact description match is tried.
If that fails, a substring match is attempted. If <EM>that</EM>
fails, the first few words are examined to see if they match. If there's no
description, an exact room name match is tried. This isn't as reliable,
which is why you should always create a transcript in 'verbose' mode (see
<A HREF="#MAKING_TRANSCRIPTS">MAKING TRANSCRIPTS</A>).


<P>

<LI><STRONG></STRONG>
Special <STRONG>IFM</STRONG> commands that are (hopefully) ignored completely by the game -- see <A HREF="#IFM_COMMANDS">IFM COMMANDS</A>.


<P>

</UL>
Some of these checks can be tailored to a particular transcript -- see
<A HREF="#FIXING_PROBLEMS">FIXING PROBLEMS</A>.


<P>

Output from <STRONG>scr2ifm</STRONG> is as follows. First, if the title of the map was specified with the
'title' command (see <A HREF="#IFM_COMMANDS">IFM COMMANDS</A>), it is printed. Then, if there's more than one map section, a list of map
section titles is printed.


<P>

Next, there's a list of <STRONG>IFM</STRONG> commands derived from the transcript. Each time a new room is seen, a room
command is output for it. Each room is given a tag name formed by the
initials of each capitalized word in its name. To make tags unique, the
second and subsequent occurrences of a tag name have that number appended.
For example, room 'West of House' would get tag 'WH'.


<P>

If a movement command was up, down, in or out, then a compass direction is
chosen for it that doesn't clash with other rooms (if possible) and the
'go' attribute is used to mark its real direction. If a movement command
isn't recognized, the same is done except this time the 'cmd' attribute is
used to record the command instead.


<P>

If movement is seen between two already-visited rooms, a link command is
output (or a join, if the rooms appear to be on different map sections).
Link tags are built by concatenating the room tags of the linked rooms with
an underscore in between. Link movement is dealt with in the same manner as
for rooms.


<P>

If the special 'item' or 'task' commands are seen (see <A HREF="#IFM_COMMANDS">IFM COMMANDS</A>), then an item or task command is output following the room that it
appears in. If an item or task hasn't been given a tag, it is assigned one.
The tag is made by translating all invalid tag characters in the name to
underscores, capitalizing (to avoid clashes with <STRONG>IFM</STRONG> commands) and, if the tag clashes with a previously-defined tag, adding a
numerical suffix to make it unique. For example, 'black rod' might get a
tag 'Black_rod_2'.


<P>

Finally, the <STRONG>IFM</STRONG> commands from the file indicated by the <STRONG>-c</STRONG> option are echoed (if any).


<P>

<P>
<HR>
<H1><A NAME="MAKING_TRANSCRIPTS">MAKING TRANSCRIPTS

</A></H1>
For best results with <STRONG>scr2ifm</STRONG>, you should follow these guidelines when making a transcript:


<P>

<UL>
<LI><STRONG></STRONG>
Always use 'verbose' mode. If you don't, then when you revisit a room
you've been in before, no description will be printed. In that case,
<STRONG>scr2ifm</STRONG> will have to rely on the room name to tell where it is. If there's more
than one room with that name, it'll get confused (and so will you when you
look at the map!).


<P>

<LI><STRONG></STRONG>
After starting the script, look around. Otherwise your starting room may
not be included on the map, since the room description may not get printed.


<P>

<LI><STRONG></STRONG>
If there's a bend in a link (e.g. if you leave a room by going east, and
enter the next room from the south) make sure you do the return journey.
Otherwise, <STRONG>scr2ifm</STRONG> won't know about the bend.


<P>

<LI><STRONG></STRONG>
Avoid places where different rooms have the same room description (i.e.
mazes).  <STRONG>scr2ifm</STRONG> can't resolve cases like this, and will assume there's just a single room.
Note that this doesn't exclude <EM>all</EM> mazes -- the 'twisty passages, all different' maze from Colossal Cave would
still work, since the descriptions are different.


<P>

<LI><STRONG></STRONG>
If you play the game over several sessions, and create several separate
transcripts, pay attention to the starting rooms. If a transcript starts in
a room already visited in the previous transcript, then its rooms will be
added to the same map section. If not, a new map section will be created
(and you should use the 'map' command to give it a name -- see
<A HREF="#IFM_COMMANDS">IFM COMMANDS</A>).


<P>

</UL>
Some games will be more amenable to <STRONG>scr2ifm</STRONG> than others -- in general the ones with reasonable map connections, where
each connection makes sense in relation to the others. For these games, the
order in which rooms are visited will probably make no difference to the
resulting map. But for perverse games (e.g. Colossal Cave, above ground)
the order of visiting makes a big difference. In these cases, it's probably
best to avoid trying to get all the connections on the map -- you'll spew
forth lots of <STRONG>IFM</STRONG>
warnings otherwise, and the map will look awful. See <A HREF="#EXAMPLE_SESSION">EXAMPLE SESSION</A>
for an example. Sometimes it's worth having a second attempt at a
transcript, choosing different directions to go in, to see if it improves
things.


<P>

Another problem with mapping is that some games have these inconvenient
things called puzzles, which sometimes block you from exploring everywhere
so you can map it properly. Come on, IF authors, let's get our priorities
right!


<P>

<P>
<HR>
<H1><A NAME="IFM_COMMANDS">IFM COMMANDS

</A></H1>
While you're making your transcript, you can use a subset of <STRONG>IFM</STRONG>
commands to add extra things that <STRONG>scr2ifm</STRONG> will recognize. (Of course, the game almost certainly won't understand
these commands, and will print a suitable indignant reply. But that
shouldn't affect the state of things.) The commands recognized are:


<P>

<DL>
<DT><STRONG><A NAME="item_title">title <name>

</A></STRONG><DD>
Give the map a title. The name must be in double-quotes. This command can
appear anywhere, and has the same effect each time.


<P>

<DT><STRONG><A NAME="item_map">map <name>

</A></STRONG><DD>
Indicate that the current room starts a new map section with the given
name. The name must be in double-quotes. This is useful if it seems like
the map divides into different sections (e.g. the floors of a house).


<P>

If you use the 'map' command, you'll end up with two or more map sections.
The first map section is the one that contains the very first room, and
will have a default name unless you give it one using another 'map'
command.


<P>

<DT><STRONG><A NAME="item_item">item <name> [attrs]

</A></STRONG><DD>
Declare an item in the current room. The name must be in double-quotes. If
you don't give it a tag attribute, one is generated automatically by
changing all invalid tag characters in the name to underscores.


<P>

<DT><STRONG>item [attrs]

</A></STRONG><DD>
Add the given attributes to the last declared item, if any.


<P>

<DT><STRONG>item delete

</A></STRONG><DD>
Delete the last declared item, if any.


<P>

<DT><STRONG><A NAME="item_task">task <name> [attrs]

</A></STRONG><DD>
Declare a task in the current room in a similar manner to items. The name
must be in double-quotes.


<P>

<DT><STRONG>task [attrs]

</A></STRONG><DD>
Add the given attributes to the last declared task, if any.


<P>

<DT><STRONG>task delete

</A></STRONG><DD>
Delete the last declared task, if any.


<P>

</DL>
Note that <STRONG>scr2ifm</STRONG> knows almost nothing about <STRONG>IFM</STRONG> command syntax. If there's a syntax error in a command, you'll have to
manually edit the resulting transcript (or delete the item/task and do it
again).


<P>

<P>
<HR>
<H1><A NAME="FIXING_PROBLEMS">FIXING PROBLEMS

</A></H1>
The map produced by <STRONG>scr2ifm</STRONG> will not be perfect in a lot of cases. When running it through <STRONG>IFM</STRONG> you might get warnings about overlapping rooms, or crossed link lines.
These problems are usually fixed by stretching the link lines of some of
the rooms. Some overlapping-room problems are caused by the program making
a bad choice of direction to put an up/down/in/out connection in. Another
problem might be not recognizing when a room is the same as a
previously-visited room, because the room description changed too much
between visits.


<P>

You can fix most of these problems by creating a command file and
specifying it with the <STRONG>-c</STRONG> option. There are two types of entry:
<STRONG>scr2ifm</STRONG> commands and <STRONG>IFM</STRONG> commands. In a command file, blank lines and comment lines (those starting
with a #) are ignored. If a command isn't recognized as a <STRONG>scr2ifm</STRONG> command, it's assumed to be an <STRONG>IFM</STRONG>
command, and is passed straight into the output verbatim. You can use these
to resolve conflicts in the generated map, by stretching certain links or
hiding them altogether.


<P>

Here's a list of the commands available:


<P>

<DL>
<DT><STRONG><A NAME="item_is_room">is_room TEXT

</A></STRONG><DD>
Declare a line of text that is actually the name of a room. Normally room
names get recognized properly, but there may be some special cases that
aren't.


<P>

<DT><STRONG><A NAME="item_not_room">not_room TEXT

</A></STRONG><DD>
Declare a line of text that definitely isn't the name of a room. This is
for opposite cases to the above.


<P>

<DT><STRONG><A NAME="item_use_name">use_name TEXT

</A></STRONG><DD>
Use only the room name to decide whether a room has been previously
visited. This is for cases where a room description changes too much
between visits to be called the same room. Note that this implies that
there can only ever be one room with this name.


<P>

<DT><STRONG><A NAME="item_set_option">set_option LETTER

</A></STRONG><DD>
This is a convenience that lets you specify <STRONG>scr2ifm</STRONG> command-line options in the command file instead. E.g. 'set_option i' will
indent output nicely.


<P>

<DT><STRONG><A NAME="item_set_param">set_param VAR = VALUE

</A></STRONG><DD>
This evaluates the given perl expression. You can use this to set various
parameters that control how the transcript is parsed (see below). Setting a
value of <STRONG>undef</STRONG> will remove that parameter (so that it won't be used).


<P>

</DL>
Here's a list of the parameters that control how the transcript is parsed,
and their defaults. You can use the <STRONG>scr2ifm</STRONG> 'set_param' command to set them in the command file.


<P>

<DL>
<DT><STRONG><A NAME="item__name_remove">$name_remove (default: '\s+\(.+\)')

</A></STRONG><DD>
Matched text to remove before seeing if a line of text is a room name. This
is for getting rid of stuff like `` (in the dodgem car)''.


<P>

<DT><STRONG><A NAME="item__name_maxwords">$name_maxwords (default: 8)

</A></STRONG><DD>
Maximum no. of words in a room name.


<P>

<DT><STRONG><A NAME="item__name_maxuncap">$name_maxuncap (default: 3)

</A></STRONG><DD>
Maximum length of an uncapitalized word in a room name.


<P>

<DT><STRONG><A NAME="item__name_invalid">$name_invalid (default: '[.!?"]')

</A></STRONG><DD>
Regexp which, if matched, signals an invalid room name.


<P>

<DT><STRONG><A NAME="item__desc_minwords">$desc_minwords (default: 20)

</A></STRONG><DD>
Minimum no. of matching words required to match a room description.


<P>

<DT><STRONG><A NAME="item__cmd_prompt">$cmd_prompt (default: '^>\s*')

</A></STRONG><DD>
Regexp matching a command prompt.


<P>

<DT><STRONG><A NAME="item__cmd_look">$cmd_look (default: '^l(ook)?$')

</A></STRONG><DD>
Regexp matching a 'look' command (case-insensitive).


<P>

<DT><STRONG><A NAME="item__cmd_undo">$cmd_undo (default: '^undo$')

</A></STRONG><DD>
Regexp matching an UNDO command (case-insensitive). It's assumed that only
a single level of UNDO is available.


<P>

<DT><STRONG><A NAME="item__cmd_teleport">$cmd_teleport (default: '^(restart|restore)$')

</A></STRONG><DD>
Regexp matching commands that are known to cause a teleport to an arbitrary
room (case-insensitive).


<P>

</DL>
<P>
<HR>
<H1><A NAME="EXAMPLE_SESSION">EXAMPLE SESSION

</A></H1>
Here's a simple example of <STRONG>scr2ifm</STRONG> in action on Colossal Cave. First, the transcript in file <EM>advent.scr</EM> (with annotation):


<P>

<PRE>    Start of a transcript of
    ADVENTURE
    The Interactive Original
    By Willie Crowther and Don Woods (1977)
    David M. Baggett's 1993 reconstruction, ported by Graham Nelson
    Release 3 / Serial number 951220 / Inform v1502 Library 5/12
    Interpreter 1 Version B / Library serial number 951024
</PRE>

<P>

<PRE>    &gt;verbose
    ADVENTURE is now in its &quot;verbose&quot; mode, which always gives
    long descriptions of locations (even if you've been there
    before).
</PRE>

<P>

<PRE>    &gt;l
</PRE>

<P>

<PRE>    At End Of Road
    You are standing at the end of a road before a small brick
    building. Around you is a forest. A small stream flows out
    of the building and down a gully.
</PRE>

<P>

The previous two commands are recommended after starting the transcript.


<P>

<PRE>    &gt;e
</PRE>

<P>

<PRE>    Inside Building
    You are inside a building, a well house for a large spring.
</PRE>

<P>

<PRE>    There are some keys on the ground here.
</PRE>

<P>

<PRE>    There is tasty food here.
</PRE>

<P>

<PRE>    There is a shiny brass lamp nearby.
</PRE>

<P>

<PRE>    There is an empty bottle here.
</PRE>

<P>

<PRE>    &gt;item &quot;keys&quot;
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;item &quot;food&quot;
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;item &quot;lamp&quot;
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;item &quot;bottle&quot;
    That's not a verb I recognise.
</PRE>

<P>

The previous four commands declare the given items to the program. You
don't have to bother with this if you don't want item locations on your
map.


<P>

<PRE>    &gt;get all
    stream: You have nothing in which to carry the water.
    well house: That's hardly portable.
    spring: That's hardly portable.
    pair of 1 foot diameter sewer pipes: That's hardly portable.
    set of keys: Taken.
    tasty food: Taken.
    brass lantern: Taken.
    small bottle: Taken.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    At End Of Road
    You are standing at the end of a road before a small brick
    building. Around you is a forest. A small stream flows out
    of the building and down a gully.
</PRE>

<P>

<PRE>    &gt;s
</PRE>

<P>

<PRE>    In A Valley
    You are in a valley in the forest beside a stream tumbling
    along a rocky bed.
</PRE>

<P>

<PRE>    &gt;s
</PRE>

<P>

<PRE>    At Slit In Streambed
    At your feet all the water of the stream splashes into a
    2-inch slit in the rock. Downstream the streambed is bare
    rock.
</PRE>

<P>

<PRE>    &gt;s
</PRE>

<P>

<PRE>    Outside Grate
    You are in a 20-foot depression floored with bare dirt. Set
    into the dirt is a strong steel grate mounted in concrete. A
    dry streambed leads into the depression.
</PRE>

<P>

Note that in this game we don't go in all possible directions -- there's no
logic to the connections, and it'd just make a complete mess on the map.


<P>

<PRE>    &gt;unlock grate
    What do you want to unlock the steel grate with?
</PRE>

<P>

<PRE>    &gt;keys
    You unlock the steel grate.
</PRE>

<P>

<PRE>    &gt;task &quot;Unlock grate&quot; need Keys
    That's not a verb I recognise.
</PRE>

<P>

That last command declared a task -- again, you don't have to bother with
this if you don't want to.


<P>

<PRE>    &gt;open grate
    You open the steel grate.
</PRE>

<P>

<PRE>    &gt;task &quot;Open grate&quot; after last
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;d
</PRE>

<P>

<PRE>    Below the Grate
    You are in a small chamber beneath a 3x3 steel grate to the
    surface. A low crawl over cobbles leads inward to the west.
</PRE>

<P>

<PRE>    The grate stands open.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    In Cobble Crawl
    You are crawling over cobbles in a low passage. There is a
    dim light at the east end of the passage.
</PRE>

<P>

<PRE>    There is a small wicker cage discarded nearby.
</PRE>

<P>

<PRE>    &gt;item &quot;cage&quot;
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;get cage
    Taken.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    Darkness
    It is pitch dark, and you can't see a thing.
</PRE>

<P>

<PRE>    &gt;undo
    In Cobble Crawl
    [Previous turn undone.]
</PRE>

<P>

Oops! Stumbled into the dark by mistake. Without the UNDO, that would have
meant 'Darkness' appeared on the map as a room.


<P>

<PRE>    &gt;turn lamp on
    You switch the brass lantern on.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    In Debris Room
    You are in a debris room filled with stuff washed in from
    the surface. A low wide passage with cobbles becomes plugged
    with mud and debris here, but an awkward canyon leads upward
    and west.
</PRE>

<P>

<PRE>    A note on the wall says, &quot;Magic word XYZZY.&quot;
</PRE>

<P>

<PRE>    A three foot black rod with a rusty star on one end lies
    nearby.
</PRE>

<P>

<PRE>    &gt;item &quot;black rod&quot; tag Rod
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;xyzzy
</PRE>

<P>

<PRE>    Inside Building
    You are inside a building, a well house for a large spring.
</PRE>

<P>

Goodness me! That was unexpected -- we've been teleported. The link almost
certainly won't look good on the map. We have the option of UNDOing, right
now, or fixing the map later. Let's do the latter.


<P>

<PRE>    &gt;xyzzy
</PRE>

<P>

<PRE>    In Debris Room
    You are in a debris room filled with stuff washed in from
    the surface. A low wide passage with cobbles becomes plugged
    with mud and debris here, but an awkward canyon leads upward
    and west.
</PRE>

<P>

<PRE>    A note on the wall says, &quot;Magic word XYZZY.&quot;
</PRE>

<P>

<PRE>    A three foot black rod with a rusty star on one end lies
    nearby.
</PRE>

<P>

<PRE>    &gt;get rod
    Taken.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    Sloping E/W Canyon
    You are in an awkward sloping east/west canyon.
</PRE>

<P>

<PRE>    &gt;w
</PRE>

<P>

<PRE>    Orange River Chamber
    You are in a splendid chamber thirty feet high. The walls
    are frozen rivers of orange stone. An awkward canyon and a
    good passage exit from east and west sides of the chamber.
</PRE>

<P>

<PRE>    A cheerful little bird is sitting here singing.
</PRE>

<P>

<PRE>    &gt;item &quot;bird&quot;
    That's not a verb I recognise.
</PRE>

<P>

<PRE>    &gt;unscript
</PRE>

<P>

<PRE>    End of transcript.
</PRE>

<P>

Ok, now to create a map. To do that, use this command:


<P>

<PRE>    scr2ifm -o advent.ifm advent.scr
</PRE>

<P>

To check for problems, just type:


<P>

<PRE>    ifm advent.ifm
</PRE>

<P>

On the first run through, there are complaints about an overlapping room,
due to a bad choice of direction for the 'down' link from Outside Grate,
and the expected problems with the link between the Debris Room and the
Building. A command file, <EM>advent.cmd</EM>, will fix these problems:


<P>

<PRE>    # Fix bad choice of direction.
    link BG dir s;
</PRE>

<P>

<PRE>    # Hide &quot;xyzzy&quot; link.
    link IDR_IB hidden;
</PRE>

<P>

<PRE>    # Replace it with join.
    join IDR to IB cmd &quot;xyzzy&quot;;
</PRE>

<P>

Now, if we invoke


<P>

<PRE>    scr2ifm -o advent.ifm -i -c advent.cmd advent.scr
</PRE>

<P>

we get the following map:


<P>

<PRE>    ## IFM map created by scr2ifm.pl
</PRE>

<P>

<PRE>    ## Commands generated by transcript.
    room &quot;At End Of Road&quot; tag AEOR;
</PRE>

<P>

<PRE>    room &quot;Inside Building&quot; dir e from AEOR tag IB;
      item &quot;keys&quot; tag Keys;
      item &quot;food&quot; tag Food;
      item &quot;lamp&quot; tag Lamp;
      item &quot;bottle&quot; tag Bottle;
</PRE>

<P>

<PRE>    room &quot;In A Valley&quot; dir s from AEOR tag IAV;
</PRE>

<P>

<PRE>    room &quot;At Slit In Streambed&quot; dir s from IAV tag ASIS;
</PRE>

<P>

<PRE>    room &quot;Outside Grate&quot; dir s from ASIS tag OG;
      task &quot;Unlock grate&quot; need Keys tag Unlock_grate;
      task &quot;Open grate&quot; after last tag Open_grate;
</PRE>

<P>

<PRE>    room &quot;Below the Grate&quot; dir n from OG go down tag BG;
</PRE>

<P>

<PRE>    room &quot;In Cobble Crawl&quot; dir w from BG tag ICC;
      item &quot;cage&quot; tag Cage;
</PRE>

<P>

<PRE>    room &quot;In Debris Room&quot; dir w from ICC tag IDR;
      item &quot;black rod&quot; tag Rod;
</PRE>

<P>

<PRE>    link IDR to IB dir n s cmd &quot;xyzzy&quot; tag IDR_IB;
</PRE>

<P>

<PRE>    room &quot;Sloping E/W Canyon&quot; dir w from IDR tag SEC;
</PRE>

<P>

<PRE>    room &quot;Orange River Chamber&quot; dir w from SEC tag ORC;
      item &quot;bird&quot; tag Bird;
</PRE>

<P>

<PRE>    ## Customization commands.
    link BG dir s;
    link IDR_IB hidden;
    join IDR to IB cmd &quot;xyzzy&quot;;
</PRE>

<P>

<P>
<HR>
<H1><A NAME="LIMITATIONS">LIMITATIONS

</A></H1>
Here's a list of things that <STRONG>scr2ifm</STRONG> doesn't currently deal with:


<P>

<UL>
<LI><STRONG></STRONG>
Mazes. Different maze rooms that look identical (i.e. have identical names
<EM>and</EM> descriptions) will simply appear as a single room.


<P>

<LI><STRONG></STRONG>
One-way links. These aren't detected, so you'll have to add the appropriate <STRONG>IFM</STRONG> attribute yourself (in a command file, or by fixing the map directly).


<P>

</UL>
<P>
<HR>
<H1><A NAME="BUGS">BUGS

</A></H1>
I wouldn't be at all surprised.


<P>

<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO

</A></H1>
<CODE>ifm(1)</CODE>


<P>

<P>
<HR>
<H1><A NAME="AUTHOR">AUTHOR

</A></H1>
Glenn Hutchings


<P>

</DL>
    </BODY>

    </HTML>
